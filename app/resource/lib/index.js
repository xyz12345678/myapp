!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.fhr=factory():root.fhr=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=78)}([function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports,__webpack_require__){var store=__webpack_require__(32)("wks"),uid=__webpack_require__(37),Symbol=__webpack_require__(0).Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,exports,__webpack_require__){var isObject=__webpack_require__(7);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){var core=module.exports={version:"2.5.1"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var dP=__webpack_require__(13),createDesc=__webpack_require__(31);module.exports=__webpack_require__(5)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var global=__webpack_require__(0),core=__webpack_require__(3),ctx=__webpack_require__(11),hide=__webpack_require__(4),PROTOTYPE="prototype",$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE],target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE];IS_GLOBAL&&(source=name);for(key in source)(own=!IS_FORCED&&target&&void 0!==target[key])&&key in exports||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F[PROTOTYPE]=C[PROTOTYPE],F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports){module.exports={}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(9);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(2),IE8_DOM_DEFINE=__webpack_require__(48),toPrimitive=__webpack_require__(68),dP=Object.defineProperty;exports.f=__webpack_require__(5)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(7),document=__webpack_require__(0).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){"use strict";function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}var aFunction=__webpack_require__(9);module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__webpack_require__){var def=__webpack_require__(13).f,has=__webpack_require__(12),TAG=__webpack_require__(1)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){var shared=__webpack_require__(32)("keys"),uid=__webpack_require__(37);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(25),defined=__webpack_require__(14);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(10),TAG=__webpack_require__(1)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){var document=__webpack_require__(0).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var cof=__webpack_require__(10);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(27),$export=__webpack_require__(6),redefine=__webpack_require__(64),hide=__webpack_require__(4),has=__webpack_require__(12),Iterators=__webpack_require__(8),$iterCreate=__webpack_require__(52),setToStringTag=__webpack_require__(18),getPrototypeOf=__webpack_require__(60),ITERATOR=__webpack_require__(1)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:case VALUES:return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports){module.exports=!0},function(module,exports,__webpack_require__){var $keys=__webpack_require__(61),enumBugKeys=__webpack_require__(23);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(2),isObject=__webpack_require__(7),newPromiseCapability=__webpack_require__(17);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__webpack_require__){var global=__webpack_require__(0),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(2),aFunction=__webpack_require__(9),SPECIES=__webpack_require__(1)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__webpack_require__){var defer,channel,port,ctx=__webpack_require__(11),invoke=__webpack_require__(49),html=__webpack_require__(24),cel=__webpack_require__(15),global=__webpack_require__(0),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==__webpack_require__(10)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in cel("script")?function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(20),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var defined=__webpack_require__(14);module.exports=function(it){return Object(defined(it))}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__=__webpack_require__(41),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);__webpack_require__.d(__webpack_exports__,"a",function(){return Fhr});var Fhr=function Fhr(opts){__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this,Fhr),_initialiseProps.call(this),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(this.opts,opts);var _opts=this.opts,isUseFlash=_opts.isUseFlash,fmsUrl=_opts.fmsUrl,callback=_opts.callback,flashFirst=_opts.flashFirst,type=_opts.type;return isUseFlash&&!fmsUrl&&"video"===type?callback("请传入fms的地址"):["video","photo"].includes(type)?("video"===type&&(window.getFmsServer=function(){return fmsUrl}),window.getFmsType=function(){return type},window.fmsCallback=function(message){callback(message||"")},this.currentSystemInfo.isSupportH5=this.isSupportH5(),this.currentSystemInfo.isSupportFlash=!!isUseFlash&&this.isSupportFlash(),flashFirst&&(this.currentSystemInfo.isSupportH5=!1,this.currentSystemInfo.isSupportFlash=!0),void this.initPage()):callback("类型只能为video或者photo")},_initialiseProps=function(){var _this=this;this.opts={isUseFlash:!0,fmsUrl:"",content:"",swfUrl:"",flashFirst:!1,callback:function(){},type:"video"},this.result={isSupportH5:!1,isSupportFlash:!1,blobDatas:null,fileId:null,dataURL:null},this.currentSystemInfo={isSupportH5:!1,isSupportFlash:!1},this.recorder=null,this.fhrVideo=null,this.h5Stream=null,this.initPage=function(){var _opts2=_this.opts,content=_opts2.content,callback=_opts2.callback,_currentSystemInfo=_this.currentSystemInfo,isSupportH5=_currentSystemInfo.isSupportH5,isSupportFlash=_currentSystemInfo.isSupportFlash;if(!content)return callback("请传入载体");isSupportH5?_this.initH5():isSupportFlash?_this.initFlash():_this.initNotSupport()},this.initNotSupport=function(){var _opts3=_this.opts,content=_opts3.content,callback=_opts3.callback;content.innerHTML='<div style="width: 640px;height: 480px;display: block;line-height: 480px;text-align: center;">当前环境不支持h5和flash录制视频或拍摄照片</div>',callback("当前环境不支持h5和flash录制视频或拍摄照片")},this.getFlash=function(flashName){var r=null,o=document.getElementById(flashName);return o&&"OBJECT"===o.nodeName.toUpperCase()&&(r=void 0!==o.SetVariable?o:o.getElementsByTagName("object")[0]||o),r},this.getFlashObject=function(){return _this.getFlash("flashObject")},this.initFlash=function(){var _opts4=_this.opts,content=_opts4.content,swfUrl=_opts4.swfUrl;content.innerHTML='\n        <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="640" height="480" id="flashObject" name="flashObject" align="middle">\n            <param name="movie" value='+swfUrl+' />\n            <param name="quality" value="high" />\n            <param name="bgcolor" value="#000000" />\n            <param name="play" value="true" />\n            <param name="loop" value="true" />\n            <param name="wmode" value="opaque" />\n            <param name="scale" value="showall" />\n            <param name="menu" value="true" />\n            <param name="devicefont" value="false" />\n            <param name="salign" value="" />\n            <param name="allowScriptAccess" value="always" />\n            \x3c!--[if !IE]>--\x3e\n            <object type="application/x-shockwave-flash" data='+swfUrl+' width="640" height="480">\n                <param name="movie" value='+swfUrl+' />\n                <param name="quality" value="high" />\n                <param name="bgcolor" value="#000000" />\n                <param name="play" value="true" />\n                <param name="loop" value="true" />\n                <param name="wmode" value="opaque" />\n                <param name="scale" value="showall" />\n                <param name="menu" value="true" />\n                <param name="devicefont" value="false" />\n                <param name="salign" value="" />\n                <param name="allowScriptAccess" value="always" />\n            \x3c!--<![endif]--\x3e\n                <a href="http://www.adobe.com/go/getflash">\n                    <img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />\n                </a>\n            \x3c!--[if !IE]>--\x3e\n            </object>\n            \x3c!--<![endif]--\x3e\n        </object>\n        '},this.initH5=function(){var _opts5=_this.opts,content=_opts5.content,callback=_opts5.callback,type=_opts5.type;_this.initUserMedia(),content.innerHTML='<video id="fhr-video" style="width: 640px; height: 480px;"></video>',"photo"===type&&(content.innerHTML+='<canvas id="fhr-canvas" style="display: none; width: 640px; height: 480px"></canvas>');var constraints={audio:!0,video:{width:1920,height:1440,facingMode:"user"}};navigator.mediaDevices.getUserMedia(constraints).then(function(stream){_this.h5Stream=stream,callback(),_this.startRecording(stream),_this.fhrVideo=document.getElementById("fhr-video"),_this.fhrVideo.src=window.URL.createObjectURL(stream),_this.fhrVideo.onloadedmetadata=function(){_this.fhrVideo.play()}}).catch(function(err){"PermissionDeniedError"===err.name?callback("请刷新页面，并允许授权"):"NotFoundError"===err.name&&callback("没有可用的摄像头")})},this.startRecording=function(localStream){_this.recorder=new MediaRecorder(localStream),_this.recorder.ondataavailable=function(evt){_this.result.blobDatas=new Blob([evt.data],{type:evt.data.type})}},this.take=function(){var _currentSystemInfo2=_this.currentSystemInfo,isSupportH5=_currentSystemInfo2.isSupportH5,isSupportFlash=_currentSystemInfo2.isSupportFlash,_opts6=_this.opts,type=_opts6.type,callback=_opts6.callback;if("photo"===type)if(isSupportH5){var canvas=document.getElementById("fhr-canvas"),context=canvas.getContext("2d");context.clearRect(0,0,1024,768),canvas.width=1024,canvas.height=768,context.drawImage(_this.fhrVideo,0,0,1024,768),_this.result.dataURL=canvas.toDataURL("image/jpg",1)}else isSupportFlash&&(_this.result.dataURL="data:image/jpg;base64,"+_this.getFlashObject().take());else callback("传入的类型为video")},this.start=function(){var _currentSystemInfo3=_this.currentSystemInfo,isSupportH5=_currentSystemInfo3.isSupportH5,isSupportFlash=_currentSystemInfo3.isSupportFlash,_opts7=_this.opts,type=_opts7.type,callback=_opts7.callback;"video"===type?isSupportH5?_this.recorder.start():isSupportFlash&&_this.getFlashObject().start():callback("传入的类型为photo")},this.stop=function(){var _currentSystemInfo4=_this.currentSystemInfo,isSupportH5=_currentSystemInfo4.isSupportH5,isSupportFlash=_currentSystemInfo4.isSupportFlash,_opts8=_this.opts,type=_opts8.type,callback=_opts8.callback;"video"===type?(_this.result.isSupportH5=isSupportH5,_this.result.isSupportFlash=isSupportFlash,isSupportH5?_this.recorder.stop():isSupportFlash&&(_this.result.fileId=_this.getFlashObject().stop())):callback("传入的类型为photo")},this.close=function(){var _currentSystemInfo5=_this.currentSystemInfo,isSupportH5=_currentSystemInfo5.isSupportH5,isSupportFlash=_currentSystemInfo5.isSupportFlash;isSupportH5&&_this.h5Stream?_this.h5Stream.getTracks().forEach(function(track){return track.stop()}):isSupportFlash&&_this.getFlashObject()&&_this.getFlashObject().close()},this.promisifiedOldGUM=function(constraints){var getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return getUserMedia?new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(resolve,reject){getUserMedia.call(navigator,constraints,resolve,reject)}):__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.reject(new Error("getUserMedia is not implemented in this browser"))},this.initUserMedia=function(){navigator.mediaDevices||(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia||(navigator.mediaDevices.getUserMedia=_this.promisifiedOldGUM)},this.isSupportH5=function(){var getUserMedia=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return Boolean(getUserMedia)},this.isSupportFlash=function(){var hasFlash=!1;try{hasFlash=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(exception){hasFlash=void 0!==navigator.mimeTypes["application/x-shockwave-flash"]}return hasFlash},this.getFlashInfo=function(){var hasFlash=0,flashVersion=0;if(document.all){var swf=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(swf){hasFlash=1;var VSwf=swf.GetVariable("$version");flashVersion=parseInt(VSwf.split(" ")[1].split(",")[0],10)}}else if(navigator.plugins&&navigator.plugins.length>0){var _swf=navigator.plugins["Shockwave Flash"];if(_swf){hasFlash=1;for(var words=_swf.description.split(" "),i=0;i<words.length;i+=1)isNaN(parseInt(words[i],10))||(flashVersion=parseInt(words[i],10))}}return{f:Boolean(hasFlash),v:flashVersion}},this.getResult=function(){return _this.result}}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(42),__esModule:!0}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(43),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},function(module,exports,__webpack_require__){__webpack_require__(71),module.exports=__webpack_require__(3).Object.assign},function(module,exports,__webpack_require__){__webpack_require__(72),__webpack_require__(74),__webpack_require__(77),__webpack_require__(73),__webpack_require__(75),__webpack_require__(76),module.exports=__webpack_require__(3).Promise},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(21),toLength=__webpack_require__(35),toAbsoluteIndex=__webpack_require__(67);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(11),call=__webpack_require__(51),isArrayIter=__webpack_require__(50),anObject=__webpack_require__(2),toLength=__webpack_require__(35),getIterFn=__webpack_require__(69),BREAK={},RETURN={},exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result};exports.BREAK=BREAK,exports.RETURN=RETURN},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(5)&&!__webpack_require__(16)(function(){return 7!=Object.defineProperty(__webpack_require__(15)("div"),"a",{get:function(){return 7}}).a})},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(8),ITERATOR=__webpack_require__(1)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(2);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(57),descriptor=__webpack_require__(31),setToStringTag=__webpack_require__(18),IteratorPrototype={};__webpack_require__(4)(IteratorPrototype,__webpack_require__(1)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(1)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){var global=__webpack_require__(0),macrotask=__webpack_require__(34).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(10)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){var promise=Promise.resolve();notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(28),gOPS=__webpack_require__(59),pIE=__webpack_require__(62),toObject=__webpack_require__(36),IObject=__webpack_require__(25),$assign=Object.assign;module.exports=!$assign||__webpack_require__(16)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){var anObject=__webpack_require__(2),dPs=__webpack_require__(58),enumBugKeys=__webpack_require__(23),IE_PROTO=__webpack_require__(19)("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var iframeDocument,iframe=__webpack_require__(15)("iframe"),i=enumBugKeys.length,lt="<",gt=">";for(iframe.style.display="none",__webpack_require__(24).appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write(lt+"script"+gt+"document.F=Object"+lt+"/script"+gt),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty[PROTOTYPE]=anObject(O),result=new Empty,Empty[PROTOTYPE]=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(13),anObject=__webpack_require__(2),getKeys=__webpack_require__(28);module.exports=__webpack_require__(5)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var has=__webpack_require__(12),toObject=__webpack_require__(36),IE_PROTO=__webpack_require__(19)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){var has=__webpack_require__(12),toIObject=__webpack_require__(21),arrayIndexOf=__webpack_require__(46)(!1),IE_PROTO=__webpack_require__(19)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var hide=__webpack_require__(4);module.exports=function(target,src,safe){for(var key in src)safe&&target[key]?target[key]=src[key]:hide(target,key,src[key]);return target}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(0),core=__webpack_require__(3),dP=__webpack_require__(13),DESCRIPTORS=__webpack_require__(5),SPECIES=__webpack_require__(1)("species");module.exports=function(KEY){var C="function"==typeof core[KEY]?core[KEY]:global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(20),defined=__webpack_require__(14);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536)}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(20),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(7);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var classof=__webpack_require__(22),ITERATOR=__webpack_require__(1)("iterator"),Iterators=__webpack_require__(8);module.exports=__webpack_require__(3).getIteratorMethod=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(44),step=__webpack_require__(54),Iterators=__webpack_require__(8),toIObject=__webpack_require__(21);module.exports=__webpack_require__(26)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S+$export.F,"Object",{assign:__webpack_require__(56)})},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=__webpack_require__(27),global=__webpack_require__(0),ctx=__webpack_require__(11),classof=__webpack_require__(22),$export=__webpack_require__(6),isObject=__webpack_require__(7),aFunction=__webpack_require__(9),anInstance=__webpack_require__(45),forOf=__webpack_require__(47),speciesConstructor=__webpack_require__(33),task=__webpack_require__(34).set,microtask=__webpack_require__(55)(),newPromiseCapabilityModule=__webpack_require__(17),perform=__webpack_require__(29),promiseResolve=__webpack_require__(30),PROMISE="Promise",TypeError=global.TypeError,process=global.process,$Promise=global[PROMISE],isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(1)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise}catch(e){}}(),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&domain.exit()),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){if(1==promise._h)return!1;for(var reaction,chain=promise._a||promise._c,i=0;chain.length>i;)if(reaction=chain[i++],reaction.fail||!isUnhandled(reaction.promise))return!1;return!0},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,promise=promise._w||promise,promise._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,PROMISE,"_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=__webpack_require__(63)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__webpack_require__(18)($Promise,PROMISE),__webpack_require__(65)(PROMISE),Wrapper=__webpack_require__(3)[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(53)(function(iter){$Promise.all(iter).catch(empty)})),PROMISE,{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(66)(!0);__webpack_require__(26)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(6),core=__webpack_require__(3),global=__webpack_require__(0),speciesConstructor=__webpack_require__(33),promiseResolve=__webpack_require__(30);$export($export.P+$export.R,"Promise",{finally:function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(6),newPromiseCapability=__webpack_require__(17),perform=__webpack_require__(29);$export($export.S,"Promise",{try:function(callbackfn){var promiseCapability=newPromiseCapability.f(this),result=perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}})},function(module,exports,__webpack_require__){__webpack_require__(70);for(var global=__webpack_require__(0),hide=__webpack_require__(4),Iterators=__webpack_require__(8),TO_STRING_TAG=__webpack_require__(1)("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_Fhr__=__webpack_require__(38);__webpack_require__.d(__webpack_exports__,"Fhr",function(){return Fhr});var Fhr=__WEBPACK_IMPORTED_MODULE_0__src_Fhr__.a}])});